#!/bin/bash

if [[ $# == 2 && $1 == to ]]; then
    shift
    case $1 in
    aws)
        /usr/bin/ssh nelson@34.210.71.203
        ;;
    pi)
        nc -z 192.168.1.131 22
        if [[ $? == 0 ]]; then
            /usr/bin/ssh nelson@192.168.1.131
        else
            /usr/bin/ssh nelson@75.132.101.100
        fi
        ;;
    deb|debian)
        nc -z 192.168.1.132 22
        if [[ $? == 0 ]]; then
            /usr/bin/ssh nelson@192.168.1.132
        else
            /usr/bin/ssh nelson@75.132.101.100 -p 22132
        fi
        ;;
    *)
        echo "Unknown host: $1"
        ;;
    esac
else
    /usr/bin/ssh "$@"
fi
